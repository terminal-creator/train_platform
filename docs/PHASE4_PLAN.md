# Phase 4 è§„åˆ’ï¼šå‰ç«¯é›†æˆä¸å¯è§†åŒ–

**é˜¶æ®µ**: Phase 4 - Frontend Integration & Visualization
**ä¼˜å…ˆçº§**: é«˜
**é¢„è®¡æ—¶é—´**: 2-3 å¤©

---

## ç›®æ ‡

å°† Phase 3 å®ç°çš„ Pipeline å’Œ Celery ä»»åŠ¡ç³»ç»Ÿé›†æˆåˆ°å‰ç«¯ï¼Œæä¾›å¯è§†åŒ–çš„ç®¡ç†ç•Œé¢å’Œå®æ—¶ç›‘æ§ã€‚

---

## æ ¸å¿ƒåŠŸèƒ½

### 1. Pipeline ç®¡ç†ç•Œé¢ â­â­â­

#### 1.1 Pipeline åˆ—è¡¨é¡µé¢
- **è·¯ç”±**: `/pipelines`
- **åŠŸèƒ½**:
  - æ˜¾ç¤ºæ‰€æœ‰ Pipelinesï¼ˆè¡¨æ ¼/å¡ç‰‡è§†å›¾ï¼‰
  - çŠ¶æ€ç­›é€‰ï¼ˆå…¨éƒ¨/è¿è¡Œä¸­/å·²å®Œæˆ/å¤±è´¥/å·²å–æ¶ˆï¼‰
  - æœç´¢å’Œæ’åº
  - åˆ›å»ºæ–° Pipeline æŒ‰é’®
  - å¿«é€Ÿæ“ä½œï¼ˆå¯åŠ¨/å–æ¶ˆ/åˆ é™¤ï¼‰

#### 1.2 Pipeline åˆ›å»ºé¡µé¢
- **è·¯ç”±**: `/pipelines/create`
- **åŠŸèƒ½**:
  - å¯è§†åŒ–çš„ Stage é…ç½®å™¨
  - æ‹–æ‹½å¼ä¾èµ–å…³ç³»ç¼–è¾‘
  - å®æ—¶é¢„è§ˆ Pipeline ç»“æ„
  - ä¼˜å…ˆçº§å’Œé‡è¯•é…ç½®
  - æ¨¡æ¿é€‰æ‹©ï¼ˆé¢„å®šä¹‰å·¥ä½œæµï¼‰

#### 1.3 Pipeline è¯¦æƒ…é¡µé¢
- **è·¯ç”±**: `/pipelines/:uuid`
- **åŠŸèƒ½**:
  - Pipeline åŸºæœ¬ä¿¡æ¯
  - æ‰€æœ‰ Stages çš„çŠ¶æ€å’Œè¿›åº¦
  - DAG å¯è§†åŒ–ï¼ˆé˜¶æ®µä¾èµ–å…³ç³»å›¾ï¼‰
  - å®æ—¶æ—¥å¿—è¾“å‡º
  - æ“ä½œæŒ‰é’®ï¼ˆå¯åŠ¨/æš‚åœ/å–æ¶ˆï¼‰
  - æ¯ä¸ª Stage çš„è¯¦ç»†ä¿¡æ¯

### 2. ä»»åŠ¡ç›‘æ§é¢æ¿ â­â­â­

#### 2.1 ä»»åŠ¡æ€»è§ˆé¡µé¢
- **è·¯ç”±**: `/tasks`
- **åŠŸèƒ½**:
  - å®æ—¶ä»»åŠ¡ç»Ÿè®¡
    - è¿è¡Œä¸­ä»»åŠ¡æ•°
    - å¾…å¤„ç†ä»»åŠ¡æ•°
    - ä»Šæ—¥å®Œæˆä»»åŠ¡æ•°
    - ä»Šæ—¥å¤±è´¥ä»»åŠ¡æ•°
  - Worker çŠ¶æ€ç›‘æ§
    - åœ¨çº¿ Worker æ•°é‡
    - æ¯ä¸ª Worker çš„è´Ÿè½½
  - é˜Ÿåˆ—çŠ¶æ€
    - æ¯ä¸ªé˜Ÿåˆ—çš„ä»»åŠ¡æ•°é‡
    - é˜Ÿåˆ—ä¼˜å…ˆçº§å¯è§†åŒ–

#### 2.2 ä»»åŠ¡åˆ—è¡¨
- **åŠŸèƒ½**:
  - æ‰€æœ‰ Celery ä»»åŠ¡åˆ—è¡¨
  - æŒ‰çŠ¶æ€/é˜Ÿåˆ—/æ—¶é—´ç­›é€‰
  - ä»»åŠ¡è¯¦æƒ…æŸ¥çœ‹
  - å¿«é€Ÿæ“ä½œï¼ˆå–æ¶ˆ/é‡è¯•ï¼‰

### 3. å¯è§†åŒ–ç»„ä»¶ â­â­

#### 3.1 DAG æµç¨‹å›¾
- ä½¿ç”¨ Vue Flow / D3.js ç»˜åˆ¶ Pipeline ä¾èµ–å›¾
- èŠ‚ç‚¹è¡¨ç¤º Stage
- è¾¹è¡¨ç¤ºä¾èµ–å…³ç³»
- èŠ‚ç‚¹é¢œè‰²è¡¨ç¤ºçŠ¶æ€ï¼ˆpending/running/completed/failedï¼‰
- æ”¯æŒç¼©æ”¾ã€æ‹–æ‹½

#### 3.2 å®æ—¶è¿›åº¦æ¡
- æ¯ä¸ª Stage çš„æ‰§è¡Œè¿›åº¦
- é¢„è®¡å‰©ä½™æ—¶é—´
- åŠ¨ç”»æ•ˆæœ

#### 3.3 ä»»åŠ¡æ—¶é—´çº¿
- æ˜¾ç¤º Pipeline æ‰§è¡Œå†å²
- Gantt å›¾æ ·å¼
- å¯ä»¥çœ‹å‡ºå“ªä¸ª Stage æœ€è€—æ—¶

### 4. å®æ—¶æ›´æ–° â­â­

#### 4.1 WebSocket é›†æˆ
- è®¢é˜… Pipeline çŠ¶æ€æ›´æ–°
- è®¢é˜…ä»»åŠ¡çŠ¶æ€æ›´æ–°
- è‡ªåŠ¨åˆ·æ–°é¡µé¢æ•°æ®

#### 4.2 é€šçŸ¥ç³»ç»Ÿ
- Pipeline å®Œæˆé€šçŸ¥
- ä»»åŠ¡å¤±è´¥å‘Šè­¦
- æµè§ˆå™¨é€šçŸ¥ï¼ˆå¯é€‰ï¼‰

---

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: Vue 3 + Composition API
- **è·¯ç”±**: Vue Router
- **çŠ¶æ€ç®¡ç†**: Pinia
- **UI ç»„ä»¶**: Element Plusï¼ˆå·²æœ‰ï¼‰
- **å¯è§†åŒ–**:
  - Vue Flow: DAG æµç¨‹å›¾
  - ECharts: ç»Ÿè®¡å›¾è¡¨
  - æˆ– D3.js: è‡ªå®šä¹‰å¯è§†åŒ–
- **å®æ—¶é€šä¿¡**: WebSocket

### åç«¯
- **WebSocket**: FastAPI WebSocketï¼ˆå·²æœ‰ï¼‰
- **API**: RESTful APIï¼ˆPhase 3 å·²å®ç°ï¼‰

---

## å®ç°æ­¥éª¤

### Step 1: åç«¯å‡†å¤‡
- [x] Pipeline APIï¼ˆPhase 3 å·²å®Œæˆï¼‰
- [x] Celery Tasks APIï¼ˆPhase 3 å·²å®Œæˆï¼‰
- [ ] WebSocket äº‹ä»¶æ¨é€ï¼ˆæ‰©å±•ç°æœ‰ websocket.pyï¼‰

### Step 2: å‰ç«¯ Store
- [ ] Pipeline Store (Pinia)
- [ ] Task Store (Pinia)
- [ ] WebSocket è¿æ¥ç®¡ç†

### Step 3: Pipeline ç®¡ç†ç•Œé¢
- [ ] Pipeline åˆ—è¡¨é¡µé¢
- [ ] Pipeline åˆ›å»ºè¡¨å•
- [ ] Pipeline è¯¦æƒ…é¡µé¢
- [ ] Stage é…ç½®ç»„ä»¶

### Step 4: ä»»åŠ¡ç›‘æ§ç•Œé¢
- [ ] ä»»åŠ¡æ€»è§ˆ Dashboard
- [ ] ä»»åŠ¡åˆ—è¡¨é¡µé¢
- [ ] Worker ç›‘æ§é¢æ¿

### Step 5: å¯è§†åŒ–ç»„ä»¶
- [ ] DAG æµç¨‹å›¾ç»„ä»¶
- [ ] å®æ—¶è¿›åº¦æ¡ç»„ä»¶
- [ ] ä»»åŠ¡æ—¶é—´çº¿ç»„ä»¶

### Step 6: å®æ—¶æ›´æ–°
- [ ] WebSocket äº‹ä»¶è®¢é˜…
- [ ] è‡ªåŠ¨åˆ·æ–°é€»è¾‘
- [ ] é€šçŸ¥ç³»ç»Ÿ

---

## é¡µé¢ç»“æ„

```
/pipelines
  â”œâ”€ /pipelines                  # Pipeline åˆ—è¡¨
  â”œâ”€ /pipelines/create           # åˆ›å»º Pipeline
  â””â”€ /pipelines/:uuid            # Pipeline è¯¦æƒ…

/tasks
  â”œâ”€ /tasks                      # ä»»åŠ¡ç›‘æ§æ€»è§ˆ
  â””â”€ /tasks/:task_id             # ä»»åŠ¡è¯¦æƒ…
```

---

## UI è®¾è®¡

### Pipeline åˆ—è¡¨é¡µé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Pipeline ç®¡ç†                        [+ åˆ›å»º Pipeline]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç­›é€‰: [å…¨éƒ¨â–¾] [è¿è¡Œä¸­] [å·²å®Œæˆ] [å¤±è´¥]     æœç´¢: [______]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åç§°              çŠ¶æ€      ä¼˜å…ˆçº§  åˆ›å»ºæ—¶é—´      æ“ä½œ        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ”„ Training Pipeline  è¿è¡Œä¸­    8    2h ago    [è¯¦æƒ…][å–æ¶ˆ] â”‚
â”‚  âœ… Data Processing   å·²å®Œæˆ    5    1d ago    [è¯¦æƒ…][åˆ é™¤] â”‚
â”‚  âŒ Model Evaluation  å¤±è´¥      7    3h ago    [è¯¦æƒ…][é‡è¯•] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Pipeline è¯¦æƒ…é¡µé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† è¿”å›   Training Pipeline                    [å¯åŠ¨][å–æ¶ˆ]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  çŠ¶æ€: ğŸ”„ è¿è¡Œä¸­  |  ä¼˜å…ˆçº§: 8  |  åˆ›å»ºæ—¶é—´: 2h ago          â”‚
â”‚  å·²å®Œæˆ: 2/4     |  è€—æ—¶: 1h 23m                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Pipeline å¯è§†åŒ–      â”‚  Stages åˆ—è¡¨                         â”‚
â”‚                      â”‚                                      â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  âœ… 1. æ•°æ®é¢„å¤„ç† (30m)              â”‚
â”‚    â”‚ æ•°æ®é¢„å¤„ç† â”‚     â”‚      â””â”€ å®Œæˆæ—¶é—´: 2h ago             â”‚
â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â”‚                                      â”‚
â”‚          â”‚           â”‚  ğŸ”„ 2. æ¨¡å‹è®­ç»ƒ (1h 20m / ~3h)       â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”     â”‚      â””â”€ [æŸ¥çœ‹æ—¥å¿—]                   â”‚
â”‚    â”‚ æ¨¡å‹è®­ç»ƒ   â”‚ğŸ”„   â”‚                                      â”‚
â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â”‚  â³ 3. æ¨¡å‹è¯„æµ‹                      â”‚
â”‚          â”‚           â”‚      â””â”€ ç­‰å¾…ä¸­                       â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”     â”‚                                      â”‚
â”‚    â”‚ æ¨¡å‹è¯„æµ‹   â”‚â³   â”‚  â³ 4. æ¸…ç†æ£€æŸ¥ç‚¹                    â”‚
â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â”‚      â””â”€ ç­‰å¾…ä¸­                       â”‚
â”‚          â”‚           â”‚                                      â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”     â”‚                                      â”‚
â”‚    â”‚æ¸…ç†æ£€æŸ¥ç‚¹  â”‚â³   â”‚                                      â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä»»åŠ¡ç›‘æ§é¡µé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä»»åŠ¡ç›‘æ§                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ è¿è¡Œä¸­       â”‚  â”‚ å¾…å¤„ç†       â”‚  â”‚ ä»Šæ—¥å®Œæˆ     â”‚         â”‚
â”‚  â”‚    12       â”‚  â”‚    45       â”‚  â”‚    238      â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Worker çŠ¶æ€                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ worker-1  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%  (4/5 tasks)                   â”‚â”‚
â”‚  â”‚ worker-2  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% (5/5 tasks)                   â”‚â”‚
â”‚  â”‚ worker-3  â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 40%  (2/5 tasks)                   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é˜Ÿåˆ—ç»Ÿè®¡                                                     â”‚
â”‚  training (10) â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 8 tasks                           â”‚
â”‚  evaluation (7) â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 2 tasks                          â”‚
â”‚  default (5)    â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘ 3 tasks                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## API å¯¹æ¥

### Pipeline APIs
```typescript
// åˆ—å‡º Pipelines
GET /api/v1/pipelines?status=running&limit=20

// åˆ›å»º Pipeline
POST /api/v1/pipelines
{
  name: string
  stages: Stage[]
  priority: number
}

// è·å–è¯¦æƒ…
GET /api/v1/pipelines/{uuid}

// è·å–çŠ¶æ€ï¼ˆåŒ…å«æ‰€æœ‰ stagesï¼‰
GET /api/v1/pipelines/{uuid}/status

// å¯åŠ¨ Pipeline
POST /api/v1/pipelines/{uuid}/start

// å–æ¶ˆ Pipeline
POST /api/v1/pipelines/{uuid}/cancel

// åˆ é™¤ Pipeline
DELETE /api/v1/pipelines/{uuid}
```

### Task APIs
```typescript
// ä»»åŠ¡ç»Ÿè®¡
GET /api/v1/celery-tasks/stats/overview

// åˆ—å‡ºä»»åŠ¡
GET /api/v1/celery-tasks?state=RUNNING&limit=50

// ä»»åŠ¡è¯¦æƒ…
GET /api/v1/celery-tasks/{task_id}

// å–æ¶ˆä»»åŠ¡
POST /api/v1/celery-tasks/{task_id}/cancel

// é‡è¯•ä»»åŠ¡
POST /api/v1/celery-tasks/{task_id}/retry
```

---

## æ•°æ®æ¨¡å‹

### Pipeline (å‰ç«¯)
```typescript
interface Pipeline {
  uuid: string
  name: string
  description?: string
  status: 'pending' | 'running' | 'completed' | 'failed' | 'cancelled'
  priority: number
  max_retries: number
  retry_count: number
  created_at: string
  started_at?: string
  completed_at?: string
  error_message?: string
}
```

### PipelineStage (å‰ç«¯)
```typescript
interface PipelineStage {
  stage_name: string
  stage_order: number
  task_name: string
  status: 'pending' | 'running' | 'completed' | 'failed' | 'skipped'
  depends_on: string[]
  celery_task_id?: string
  result: any
  error_message?: string
  created_at: string
  started_at?: string
  completed_at?: string
}
```

---

## å¯è§†åŒ–åº“é€‰æ‹©

### æ–¹æ¡ˆ 1: Vue Flow (æ¨è)
- **ä¼˜ç‚¹**: Vue 3 åŸç”Ÿæ”¯æŒï¼Œæ˜“äºé›†æˆ
- **ç¼ºç‚¹**: åŠŸèƒ½ç›¸å¯¹ç®€å•
- **é€‚ç”¨**: Pipeline DAG å¯è§†åŒ–

### æ–¹æ¡ˆ 2: D3.js
- **ä¼˜ç‚¹**: åŠŸèƒ½å¼ºå¤§ï¼Œé«˜åº¦è‡ªå®šä¹‰
- **ç¼ºç‚¹**: å­¦ä¹ æ›²çº¿é™¡å³­
- **é€‚ç”¨**: å¤æ‚å¯è§†åŒ–éœ€æ±‚

### æ–¹æ¡ˆ 3: ECharts
- **ä¼˜ç‚¹**: ä¸°å¯Œçš„å›¾è¡¨ç±»å‹
- **ç¼ºç‚¹**: ä¸å¤ªé€‚åˆ DAG å›¾
- **é€‚ç”¨**: ç»Ÿè®¡å›¾è¡¨

**æ¨èç»„åˆ**: Vue Flow (DAG) + ECharts (ç»Ÿè®¡å›¾è¡¨)

---

## é¢„æœŸäº§å‡º

### ä»£ç æ–‡ä»¶
```
frontend/src/
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ PipelineList.vue       # Pipeline åˆ—è¡¨é¡µ
â”‚   â”œâ”€â”€ PipelineCreate.vue     # Pipeline åˆ›å»ºé¡µ
â”‚   â”œâ”€â”€ PipelineDetail.vue     # Pipeline è¯¦æƒ…é¡µ
â”‚   â”œâ”€â”€ TaskMonitor.vue        # ä»»åŠ¡ç›‘æ§é¡µ
â”‚   â””â”€â”€ TaskDetail.vue         # ä»»åŠ¡è¯¦æƒ…é¡µ
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ PipelineCard.vue       # Pipeline å¡ç‰‡ç»„ä»¶
â”‚   â”œâ”€â”€ PipelineDAG.vue        # DAG å¯è§†åŒ–ç»„ä»¶
â”‚   â”œâ”€â”€ StageConfig.vue        # Stage é…ç½®ç»„ä»¶
â”‚   â”œâ”€â”€ TaskStatCard.vue       # ä»»åŠ¡ç»Ÿè®¡å¡ç‰‡
â”‚   â””â”€â”€ WorkerStatus.vue       # Worker çŠ¶æ€ç»„ä»¶
â”œâ”€â”€ stores/
â”‚   â”œâ”€â”€ pipeline.ts            # Pipeline Store
â”‚   â””â”€â”€ task.ts                # Task Store
â””â”€â”€ api/
    â”œâ”€â”€ pipeline.ts            # Pipeline API å°è£…
    â””â”€â”€ task.ts                # Task API å°è£…
```

### åç«¯æ‰©å±•
```
training_platform/api/routers/
â””â”€â”€ websocket.py               # æ‰©å±• WebSocket äº‹ä»¶
```

---

## æ—¶é—´ä¼°ç®—

| ä»»åŠ¡ | é¢„è®¡æ—¶é—´ |
|------|---------|
| Pipeline Store & API | 2h |
| Pipeline åˆ—è¡¨é¡µé¢ | 3h |
| Pipeline åˆ›å»ºè¡¨å• | 4h |
| Pipeline è¯¦æƒ…é¡µé¢ | 4h |
| DAG å¯è§†åŒ–ç»„ä»¶ | 6h |
| ä»»åŠ¡ç›‘æ§é¡µé¢ | 3h |
| ä»»åŠ¡åˆ—è¡¨é¡µé¢ | 2h |
| WebSocket å®æ—¶æ›´æ–° | 3h |
| æµ‹è¯•å’Œä¼˜åŒ– | 3h |
| **æ€»è®¡** | **30h (çº¦ 2-3 å¤©)** |

---

## ä¸‹ä¸€æ­¥

1. å®‰è£…å‰ç«¯ä¾èµ–ï¼ˆVue Flow, EChartsï¼‰
2. åˆ›å»º Pipeline Store
3. å®ç° Pipeline åˆ—è¡¨é¡µé¢
4. å®ç° Pipeline åˆ›å»ºè¡¨å•
5. å®ç° DAG å¯è§†åŒ–
6. é›†æˆå®æ—¶æ›´æ–°

---

**å¼€å§‹æ—¶é—´**: å¾…å®š
**è´Ÿè´£äºº**: Training Platform Team
**çŠ¶æ€**: ğŸ“‹ è§„åˆ’ä¸­
